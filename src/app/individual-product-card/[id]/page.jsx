"use client";
import Link from "next/link";
import React, { useEffect, useState } from "react";
import ImageViewer from "@/components/imageViewer/ImageViewer";
import Spinner from "@/components/spinner/Spinner";
import { useTranslation } from "react-i18next";
import i18next from "i18next";
import { ClipLoader } from "react-spinners";

const getData = async (id) => {
  const res = await fetch(`/api/products/${id}`, {
    mode: "cors",
    cache: "no-store",
  });

  if (!res.ok) {
    throw new Error("Failed to fetch data");
  }

  return res.json();
};

const ProductId = ({ params }) => {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [formData, setFormData] = useState({
    user_name: "",
    user_phone: "",
    user_city: "",
  });
  const [successMessage, setSuccessMessage] = useState(false);
  const [loadingSubmit, setLoadingSubmit] = useState(false);

  const { t } = useTranslation();

  useEffect(() => {
    const fetchData = async () => {
      try {
        const result = await getData(params.id);
        setData(result);
      } catch (error) {
        console.error("Error fetching data:", error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [params.id]);

  const handleFormSubmit = async (event) => {
    event.preventDefault();

    setLoadingSubmit(true);
    const formData = new FormData(event.target);

    try {
      const response = await fetch(
        "https://api.telegram.org/bot6647104359:AAFnou6kdnQ4uNo2npcjBxsXKVAmW1rIPVo/sendMessage",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            chat_id: "-1002107177880",
            text: `Новая заявка (Индивидуальное изделие)!\n\nТовар: ${
              data.name
            } (Код: ${data.code})\nИмя: ${formData.get(
              "user_name"
            )}\nТелефон: ${formData.get("user_phone")}\nГород: ${formData.get(
              "user_city"
            )}`,
          }),
        }
      );

      if (!response.ok) {
        throw new Error("Failed to send message");
      }

      // Очистить форму
      setFormData({
        user_name: "",
        user_phone: "",
        user_city: "",
      });

      // Закрыть модальное окно
      setIsModalOpen(false);

      // Показываем успешное сообщение
      setSuccessMessage(true);

      // Дополнительные действия, если необходимо
    } catch (error) {
      console.error("Error sending message:", error);
    } finally {
      // После завершения запроса устанавливаем состояние загрузки в false
      setLoadingSubmit(false);
    }
  };

  if (loading) {
    return (
      <div className="spinner-container">
        <Spinner loading={loading} />
      </div>
    );
  }

  return (
    <>
      <svg
        className="nonsense-svg"
        width="48"
        height="808"
        viewBox="0 0 48 808"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g filter="url(#filter0_d_418_5358)">
          <line
            x1="24.5"
            y1="-2.18557e-08"
            x2="24.5"
            y2="400"
            stroke="#A8A198"
          />
          <line x1="24.5" y1="448" x2="24.5" y2="800" stroke="#A8A198" />
          <path
            d="M14 430.857L17.3333 441.143V444.571L24 448L30.6667 444.571V441.143L34 430.857L37.3333 441.143L44 437.714V406.857C44 403.069 35.0466 400 24 400C12.9534 400 4 403.069 4 406.857V437.714L10.6667 441.143L14 430.857ZM5.66619 406.857C5.66619 406.301 6.65275 404.913 10.3826 403.634C13.9962 402.397 18.8327 401.715 23.999 401.715C29.1654 401.715 34.0029 402.397 37.6155 403.634C41.3453 404.913 42.3319 406.302 42.3319 406.857C42.3319 407.412 41.3453 408.801 37.6155 410.08C34.0019 411.317 29.1654 412 23.999 412C18.8327 412 13.9952 411.317 10.3826 410.08C6.65275 408.801 5.66619 407.412 5.66619 406.857Z"
            fill="#A8A198"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_418_5358"
            x="0"
            y="0"
            width="48"
            height="808"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="4" />
            <feGaussianBlur stdDeviation="2" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_418_5358"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_418_5358"
              result="shape"
            />
          </filter>
        </defs>
      </svg>

      <div
        className={
          !successMessage ? "ind-modal-backdrop" : "ind-modal-backdrop active"
        }
        onClick={() => setSuccessMessage(false)}
      >
        <div
          className="success-block"
          onClick={(e) => {
            e.stopPropagation();
          }}
        >
          <button
            onClick={() => setSuccessMessage(false)}
            className="success-block-close-btn"
          >
            <svg
              className="success-block-close-svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M18.6067 6.20659C18.8312 5.98204 18.8312 5.61797 18.6067 5.39342C18.3821 5.16887 18.0181 5.16887 17.7935 5.39342L12.0001 11.1868L6.20668 5.39342C5.98213 5.16887 5.61806 5.16887 5.39351 5.39342C5.16896 5.61797 5.16896 5.98204 5.39351 6.20659L11.1869 12L5.39351 17.7934C5.16896 18.018 5.16896 18.382 5.39351 18.6066C5.61806 18.8311 5.98213 18.8311 6.20668 18.6066L12.0001 12.8132L17.7935 18.6066C18.0181 18.8311 18.3821 18.8311 18.6067 18.6066C18.8312 18.382 18.8312 18.018 18.6067 17.7934L12.8133 12L18.6067 6.20659Z"
                fill="#232427"
              />
            </svg>
          </button>
          <h2 className="success-block-title">{t("Success_block_title")}</h2>
          <p className="success-block-text">{t("Success_block_text")}</p>
          <p className="success-block-text-thanks">
            {t("Success_block_text_thanks")}
          </p>
          <Link href="/" className="success-block-btn">
            {t("Success_block_btn")}
          </Link>
        </div>
      </div>

      <main>
        <section className="catalog">
          <div className="container catalog-container">
            <div className="container-nav">
              <Link className="container-nav-link" href="/">
                {t("Breadcrumbs_main_page")}
              </Link>
              <svg
                className="container-nav-link-arrow"
                width="18"
                height="18"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0637 11.6136L9.24834 10.8232L13.5445 6.52703H0.29834V5.39245H13.5445L9.23297 1.0809L10.0483 0.290527L15.7175 5.95975L10.0637 11.6136Z"
                  fill="#232427"
                />
              </svg>
              <Link className="container-nav-link" href="/catalog">
                {t("Breadcrumbs_catalog")}
              </Link>
              <svg
                className="container-nav-link-arrow"
                width="18"
                height="18"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0637 11.6136L9.24834 10.8232L13.5445 6.52703H0.29834V5.39245H13.5445L9.23297 1.0809L10.0483 0.290527L15.7175 5.95975L10.0637 11.6136Z"
                  fill="#232427"
                />
              </svg>
              <Link
                className="container-nav-link"
                href="/individual-products-section"
              >
                {t("Breadcrumbs_individual_products")}
              </Link>
              <svg
                className="container-nav-link-arrow"
                width="18"
                height="18"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0637 11.6136L9.24834 10.8232L13.5445 6.52703H0.29834V5.39245H13.5445L9.23297 1.0809L10.0483 0.290527L15.7175 5.95975L10.0637 11.6136Z"
                  fill="#232427"
                />
              </svg>
              <Link
                className="container-nav-link"
                href={`/individual-products-section/${data.category}`}
              >
                {i18next.language === "ua"
                  ? data.categoryname
                  : data.categorynameEng}
              </Link>
              <svg
                className="container-nav-link-arrow"
                width="18"
                height="18"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0637 11.6136L9.24834 10.8232L13.5445 6.52703H0.29834V5.39245H13.5445L9.23297 1.0809L10.0483 0.290527L15.7175 5.95975L10.0637 11.6136Z"
                  fill="#232427"
                />
              </svg>
              <Link className="container-nav-link" href="">
                {data.name}
              </Link>
            </div>

            <div>
              <Link
                href={`/individual-products-section/${data.category}`}
                className="arrow-back-link"
              >
                <svg
                  className="arrow-back-products"
                  width="16"
                  height="12"
                  viewBox="0 0 16 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.0637 11.6136L9.24834 10.8232L13.5445 6.52703H0.29834V5.39245H13.5445L9.23297 1.0809L10.0483 0.290527L15.7175 5.95975L10.0637 11.6136Z"
                    fill="#232427"
                  />
                </svg>
              </Link>

              <div className="product-card-block">
                <div className="product-card-img">
                  <ImageViewer imgs={data.images} />

                  <div className="product-card-gallery-info ind-product-card-gallery-info">
                    <div className="product-card-gallery-price-block ind-product-card-gallery-price-block">
                      <div className="product-card-price-none">
                        <h2 className="product-card-info-title ind-product-card-info-title">
                          {data.name}
                        </h2>
                        <p className="product-card-info-number">
                          {t("Product_id_code")} {data.code}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <div className="product-card-info">
                  <div className="product-card-info-none ind-product-card-info-none">
                    <h2 className="product-card-info-title">{data.name}</h2>
                    <p className="product-card-info-number">
                      {t("Product_id_code")} {data.code}
                    </p>
                  </div>

                  <table className="product-card-info-table ind-product-card-info-table">
                    <tbody>
                      <tr>
                        <td className="ind-product-card-info-sizes" colSpan="2">
                          {t("Product_id_sizes")}
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_length")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.length} mm
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_width")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.width} mm
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_height")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.height} mm
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_seatheight")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.seatheight} mm
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_weight")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.weight} kg
                        </td>
                      </tr>
                      <tr className="product-card-info-table-tr">
                        <td className="product-card-info-table-th1">
                          {t("Product_id_volume")}
                        </td>
                        <td className="product-card-info-table-th2">
                          {data.volume} m3
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <div className="ind-materials-text">
                    <div className="product-card-info-none ind-product-card-info-block">
                      <h2 className="product-card-info-title">{data.name}</h2>
                      <p className="product-card-info-number">
                        {t("Product_id_code")} {data.code}
                      </p>
                    </div>

                    <p className="ind-product-card-info-materials-text">
                      {t("Individual_product_all_details")}
                    </p>

                    <div>
                      <button
                        onClick={() => setIsModalOpen(!isModalOpen)}
                        className="product-card-gallery-btn ind-product-card-gallery-btn"
                      >
                        {t("Individual_product_form_btn")}
                      </button>
                    </div>

                    <div
                      className={
                        !isModalOpen
                          ? "ind-modal-backdrop "
                          : "ind-modal-backdrop active"
                      }
                      onClick={() => setIsModalOpen(!isModalOpen)}
                    >
                      <div
                        className="ind-modal"
                        onClick={(e) => {
                          e.stopPropagation();
                        }}
                      >
                        <div className="modal-info">
                          <svg
                            className="modal-info-svg"
                            width="151"
                            height="156"
                            viewBox="0 0 151 156"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M58.1651 51.9556L63.9434 69.2749V75.0481L75.4999 80.8212L87.0564 75.0481V69.2749L92.8347 51.9556L98.613 69.2749L110.17 63.5018V11.5462C110.17 5.16714 94.6492 0 75.5024 0C56.3556 0 40.8354 5.16714 40.8354 11.5462V63.5018L52.3919 69.2749L58.1702 51.9556H58.1651ZM43.7195 11.5462C43.7195 10.6109 45.4308 8.27246 51.8961 6.12011C58.1601 4.03565 66.5431 2.88656 75.4999 2.88656C84.4567 2.88656 92.8397 4.03565 99.1037 6.12011C105.569 8.27246 107.28 10.6109 107.28 11.5462C107.28 12.4816 105.569 14.82 99.1037 16.9724C92.8397 19.0568 84.4567 20.2059 75.4999 20.2059C66.5431 20.2059 58.1601 19.0568 51.8961 16.9724C45.4308 14.82 43.7195 12.4816 43.7195 11.5462Z"
                              fill="#232427"
                            />
                            <path
                              d="M34.9565 115.455V98.1305H26.7698L17.8205 109.84L8.87124 98.1305H0.531006V115.455H7.39396V106.26L14.2594 115.455H21.2281L28.0935 106.285V115.455H34.9565Z"
                              fill="#232427"
                            />
                            <path
                              d="M67.1018 115.455L56.4488 98.1305H47.2705L36.6174 115.455H44.8545L46.5079 112.583H57.1106L58.7641 115.455H67.1043H67.1018ZM49.2008 107.884L51.8206 103.388L54.4153 107.884H49.2008Z"
                              fill="#232427"
                            />
                            <path
                              d="M86.1404 98.1305L79.1994 109.84L72.2333 98.1305H63.8931L74.5461 115.455H83.7269L94.38 98.1305H86.1404Z"
                              fill="#232427"
                            />
                            <path
                              d="M96.2549 115.455H119.952V110.119H103.12V108.927H119.469V104.608H103.12V103.464H119.952V98.1305H96.2549V115.455Z"
                              fill="#232427"
                            />
                            <path
                              d="M130.129 105.319L142.841 115.455H150.469V98.1305H143.606V107.987L131.07 98.1305H123.264V115.455H130.129V105.319Z"
                              fill="#232427"
                            />
                            <path
                              d="M13.9348 126.81C17.9262 126.81 21.7666 127.471 24.842 128.004L26.0626 122.339C22.5015 121.527 18.5353 120.969 14.4432 120.969C3.68692 120.969 0 124.296 0 129.91C0 135.525 3.68692 138.877 14.4432 138.877C18.5378 138.877 22.504 138.319 26.0626 137.504V129.732H18.9429V132.83C17.3398 132.955 15.6386 133.033 13.9348 133.033C7.90737 133.033 6.86547 132.118 6.86547 129.908C6.86547 127.698 7.90737 126.808 13.9348 126.808V126.81Z"
                              fill="#232427"
                            />
                            <path
                              d="M50.3234 133.848L50.7815 133.798C54.4432 133.39 56.9096 131.537 56.9096 127.6C56.9096 122.621 53.4768 121.223 49.1809 121.223H31.2295V138.547H38.095V134.23H42.8741L48.3655 138.547H56.9347L51.544 134.482L50.3234 133.848ZM48.4158 129.148H38.0924V127.067H48.4158C49.3822 127.067 49.7874 127.245 49.7874 128.133C49.7874 128.894 49.3797 129.148 48.4158 129.148Z"
                              fill="#232427"
                            />
                            <path
                              d="M60.5886 129.883C60.5886 136.056 64.8871 138.927 75.286 138.927C85.6848 138.927 89.9833 136.056 89.9833 129.883C89.9833 123.71 85.6873 120.838 75.286 120.838C64.8846 120.838 60.5886 123.71 60.5886 129.883ZM82.9895 129.883C82.9895 132.422 81.4644 133.084 75.286 133.084C69.1076 133.084 67.4541 132.422 67.4541 129.883C67.4541 127.343 69.1076 126.682 75.286 126.682C81.4644 126.682 82.9895 127.343 82.9895 129.883Z"
                              fill="#232427"
                            />
                            <path
                              d="M107.207 138.852C115.014 138.852 120.176 136.616 120.176 130.773V121.221H113.31V129.274C113.31 132.246 111.556 133.008 107.207 133.008C102.859 133.008 101.104 132.246 101.104 129.274V121.221H94.239V130.773C94.239 136.616 99.4007 138.852 107.207 138.852Z"
                              fill="#232427"
                            />
                            <path
                              d="M143.271 121.221H125.32V138.545H132.186V135.243H143.271C147.567 135.243 151 133.363 151 127.851C151 122.669 147.567 121.221 143.271 121.221ZM142.408 129.4H132.188V127.062H142.408C143.299 127.062 143.883 127.24 143.883 128.231C143.883 129.121 143.299 129.4 142.408 129.4Z"
                              fill="#232427"
                            />
                            <path
                              d="M35.6586 147.657C35.5378 147.657 35.4396 147.695 35.3641 147.773C35.2861 147.851 35.2483 147.949 35.2483 148.067V151.356H30.0992V148.067C30.0992 147.946 30.0615 147.848 29.9835 147.773C29.9055 147.697 29.8073 147.657 29.689 147.657C29.5707 147.657 29.4701 147.695 29.3946 147.773C29.3166 147.851 29.2788 147.949 29.2788 148.067V155.477C29.2788 155.598 29.3166 155.696 29.3946 155.771C29.4726 155.849 29.5707 155.887 29.689 155.887C29.8073 155.887 29.908 155.849 29.9835 155.771C30.059 155.693 30.0992 155.595 30.0992 155.477V152.093H35.2483V155.477C35.2483 155.598 35.2861 155.696 35.3641 155.771C35.4421 155.849 35.5403 155.887 35.6586 155.887C35.7768 155.887 35.8775 155.849 35.953 155.771C36.031 155.693 36.0688 155.595 36.0688 155.477V148.067C36.0688 147.946 36.031 147.848 35.953 147.773C35.875 147.695 35.7768 147.657 35.6586 147.657Z"
                              fill="#232427"
                            />
                            <path
                              d="M42.0585 150.451C41.6181 150.199 41.1173 150.071 40.5536 150.071C39.9898 150.071 39.489 150.197 39.0436 150.451C38.6006 150.705 38.2533 151.052 37.9992 151.494C37.745 151.937 37.6191 152.442 37.6191 153.013C37.6191 153.584 37.745 154.079 37.9992 154.521C38.2533 154.964 38.6006 155.311 39.0436 155.565C39.4865 155.819 39.9898 155.945 40.5536 155.945C41.1173 155.945 41.6181 155.819 42.0585 155.565C42.499 155.311 42.8463 154.964 43.103 154.521C43.3596 154.079 43.488 153.576 43.488 153.013C43.4805 152.445 43.3521 151.937 43.0979 151.494C42.8437 151.052 42.499 150.702 42.0585 150.451ZM42.4109 154.139C42.2272 154.469 41.9755 154.73 41.6508 154.919C41.3262 155.107 40.9613 155.203 40.5536 155.203C40.1459 155.203 39.781 155.107 39.4563 154.919C39.1317 154.728 38.8775 154.469 38.6912 154.139C38.505 153.81 38.4119 153.433 38.4119 153.01C38.4119 152.588 38.505 152.211 38.6912 151.876C38.8775 151.542 39.1317 151.28 39.4563 151.092C39.781 150.903 40.1459 150.808 40.5536 150.808C40.9613 150.808 41.3262 150.903 41.6508 151.092C41.973 151.283 42.2272 151.544 42.4109 151.876C42.5946 152.208 42.6852 152.588 42.6852 153.01C42.6852 153.433 42.5946 153.807 42.4109 154.139Z"
                              fill="#232427"
                            />
                            <path
                              d="M48.4457 152.495C48.5615 152.452 48.6747 152.404 48.7829 152.349C49.1831 152.138 49.4977 151.846 49.7267 151.474C49.9557 151.102 50.069 150.677 50.069 150.199C50.069 149.722 49.9557 149.259 49.7267 148.877C49.4977 148.494 49.1831 148.195 48.7829 147.982C48.3828 147.768 47.9248 147.66 47.4114 147.66H45.4383C45.3175 147.66 45.2193 147.697 45.1438 147.775C45.0658 147.853 45.0281 147.951 45.0281 148.07V155.48C45.0281 155.6 45.0658 155.698 45.1438 155.774C45.2219 155.852 45.32 155.889 45.4383 155.889C45.5566 155.889 45.6572 155.852 45.7327 155.774C45.8082 155.696 45.8485 155.598 45.8485 155.48V152.666H47.4114C47.4718 152.666 47.5296 152.658 47.59 152.656L49.4901 155.681C49.5329 155.751 49.5807 155.804 49.6336 155.839C49.6864 155.874 49.7594 155.892 49.85 155.892C50.0388 155.892 50.1671 155.829 50.2351 155.701C50.303 155.575 50.2829 155.427 50.1772 155.258L48.4457 152.495ZM47.4114 151.874H45.8485V148.447H47.4114C47.7687 148.447 48.0883 148.52 48.3652 148.668C48.642 148.816 48.8635 149.023 49.0245 149.284C49.1856 149.548 49.2661 149.852 49.2661 150.197C49.2661 150.519 49.1856 150.808 49.0245 151.062C48.8635 151.316 48.642 151.514 48.3652 151.658C48.0858 151.801 47.7687 151.874 47.4114 151.874Z"
                              fill="#232427"
                            />
                            <path
                              d="M55.1504 150.436C54.7528 150.194 54.2872 150.071 53.7512 150.071C53.2151 150.071 52.7319 150.197 52.3167 150.451C51.9014 150.705 51.5768 151.049 51.3402 151.489C51.1036 151.929 50.9854 152.437 50.9854 153.013C50.9854 153.589 51.1112 154.089 51.3603 154.532C51.6095 154.974 51.9543 155.321 52.3947 155.57C52.8351 155.819 53.3384 155.945 53.9097 155.945C54.2394 155.945 54.5842 155.879 54.9441 155.749C55.304 155.618 55.5984 155.454 55.8299 155.258C55.9155 155.188 55.9558 155.105 55.9507 155.004C55.9482 154.906 55.9004 154.816 55.8073 154.73C55.7368 154.675 55.6512 154.647 55.5531 154.652C55.4549 154.655 55.3669 154.69 55.2889 154.753C55.1353 154.886 54.929 154.997 54.6723 155.085C54.4156 155.173 54.1614 155.215 53.9072 155.215C53.4844 155.215 53.1119 155.12 52.7898 154.931C52.4652 154.743 52.211 154.481 52.0247 154.152C51.8788 153.89 51.7907 153.599 51.7605 153.277H56.0187C56.1319 153.277 56.2225 153.244 56.293 153.176C56.3635 153.111 56.3987 153.02 56.3987 152.907C56.3987 152.359 56.2905 151.871 56.0715 151.441C55.8526 151.014 55.5456 150.677 55.1479 150.436H55.1504ZM51.7907 152.603C51.8284 152.341 51.8863 152.09 51.997 151.871C52.1631 151.537 52.3972 151.275 52.6992 151.087C53.0012 150.898 53.3535 150.803 53.7537 150.803C54.1538 150.803 54.486 150.893 54.7729 151.077C55.0573 151.26 55.2763 151.512 55.4323 151.836C55.543 152.067 55.5984 152.329 55.6261 152.605H51.7932L51.7907 152.603Z"
                              fill="#232427"
                            />
                            <path
                              d="M63.7826 154.393C63.6869 154.378 63.5989 154.408 63.5133 154.476C63.2037 154.715 62.8766 154.899 62.5318 155.024C62.187 155.15 61.8221 155.216 61.4345 155.216C60.9765 155.216 60.5486 155.125 60.1535 154.947C59.7559 154.768 59.4061 154.519 59.1041 154.202C58.8021 153.885 58.5655 153.521 58.3919 153.106C58.2207 152.691 58.1327 152.246 58.1327 151.768C58.1327 151.291 58.2182 150.866 58.3919 150.451C58.563 150.036 58.8021 149.671 59.1041 149.354C59.4061 149.038 59.7559 148.789 60.1535 148.605C60.5512 148.422 60.979 148.331 61.4345 148.331C61.8624 148.331 62.2399 148.389 62.562 148.505C62.8866 148.62 63.1836 148.799 63.4579 149.038C63.5284 149.093 63.5989 149.126 63.6744 149.133C63.7473 149.141 63.8128 149.131 63.8707 149.1C63.926 149.073 63.9613 149.03 63.9764 148.975C64.0317 148.947 64.0745 148.902 64.1022 148.844C64.1299 148.786 64.1399 148.721 64.1299 148.653C64.1198 148.588 64.0821 148.527 64.0191 148.479C63.6316 148.158 63.2314 147.921 62.8162 147.773C62.4009 147.624 61.9404 147.552 61.4345 147.552C60.8582 147.552 60.3222 147.662 59.8264 147.883C59.3306 148.105 58.8952 148.409 58.5177 148.796C58.1402 149.183 57.8483 149.631 57.6419 150.141C57.433 150.652 57.3298 151.195 57.3298 151.771C57.3298 152.347 57.4355 152.9 57.6469 153.41C57.8583 153.921 58.1503 154.371 58.5278 154.76C58.9053 155.15 59.3407 155.454 59.8364 155.673C60.3322 155.892 60.8657 156 61.4345 156C61.9127 156 62.3732 155.932 62.8162 155.794C63.2591 155.658 63.6593 155.424 64.0191 155.092C64.0619 155.042 64.0921 154.994 64.1097 154.949C64.1273 154.904 64.1349 154.853 64.1349 154.796C64.1349 154.682 64.0997 154.592 64.0292 154.522C63.9587 154.451 63.8757 154.408 63.7801 154.396L63.7826 154.393Z"
                              fill="#232427"
                            />
                            <path
                              d="M69.3091 150.456C68.8687 150.199 68.3703 150.071 67.8167 150.071C67.263 150.071 66.7622 150.199 66.3193 150.456C65.8763 150.712 65.5265 151.062 65.2698 151.504C65.0131 151.947 64.8848 152.45 64.8848 153.013C64.8848 153.576 65.0106 154.066 65.2597 154.509C65.5089 154.951 65.8486 155.301 66.2765 155.557C66.7043 155.814 67.19 155.942 67.7311 155.942C68.2445 155.942 68.7025 155.824 69.1077 155.59C69.4424 155.394 69.7067 155.127 69.9256 154.816V155.49C69.9256 155.61 69.9634 155.706 70.0414 155.779C70.1194 155.852 70.2176 155.889 70.3359 155.889C70.4541 155.889 70.5548 155.852 70.6303 155.779C70.7083 155.706 70.7461 155.608 70.7461 155.49V153.013C70.7385 152.45 70.6077 151.949 70.351 151.504C70.0943 151.062 69.747 150.712 69.3065 150.456H69.3091ZM69.6664 154.134C69.4802 154.469 69.226 154.73 68.9064 154.921C68.5868 155.11 68.2219 155.205 67.8142 155.205C67.4065 155.205 67.0516 155.11 66.727 154.921C66.4023 154.73 66.1481 154.469 65.9569 154.134C65.7681 153.8 65.6725 153.428 65.6725 153.013C65.6725 152.598 65.7681 152.216 65.9569 151.884C66.1481 151.554 66.4023 151.293 66.727 151.099C67.0491 150.906 67.414 150.81 67.8142 150.81C68.2143 150.81 68.5868 150.908 68.9064 151.099C69.226 151.293 69.4802 151.554 69.6664 151.884C69.8527 152.213 69.9458 152.59 69.9458 153.013C69.9458 153.435 69.8527 153.802 69.6664 154.134Z"
                              fill="#232427"
                            />
                            <path
                              d="M78.5199 147.657C78.0417 147.657 77.6366 147.76 77.3069 147.969C76.9772 148.178 76.7255 148.467 76.5569 148.839C76.3883 149.211 76.3027 149.644 76.3027 150.136V150.337H75.6283C75.515 150.337 75.4269 150.37 75.359 150.438C75.291 150.506 75.2583 150.591 75.2583 150.697C75.2583 150.795 75.291 150.878 75.359 150.943C75.4244 151.011 75.515 151.044 75.6283 151.044H76.3027V155.482C76.3027 155.608 76.3405 155.708 76.4185 155.781C76.4965 155.854 76.5871 155.892 76.6928 155.892C76.8262 155.892 76.9294 155.854 77.0049 155.781C77.0779 155.708 77.1156 155.608 77.1156 155.482V151.044H78.3815C78.4947 151.044 78.5828 151.011 78.6508 150.943C78.7187 150.876 78.7514 150.795 78.7514 150.697C78.7514 150.591 78.7187 150.506 78.6508 150.438C78.5828 150.373 78.4947 150.337 78.3815 150.337H77.1156V150.096C77.1156 149.767 77.1659 149.473 77.2691 149.216C77.3723 148.96 77.5258 148.758 77.7347 148.615C77.9411 148.472 78.2053 148.399 78.5199 148.399C78.6407 148.399 78.7389 148.364 78.8144 148.293C78.8899 148.223 78.9301 148.135 78.9301 148.029C78.9301 147.924 78.8924 147.836 78.8144 147.765C78.7363 147.695 78.6382 147.66 78.5199 147.66V147.657Z"
                              fill="#232427"
                            />
                            <path
                              d="M84.5223 150.124C84.4015 150.124 84.3059 150.162 84.2329 150.234C84.16 150.307 84.1222 150.405 84.1222 150.524V153.644C84.1222 153.938 84.0417 154.202 83.8806 154.434C83.7195 154.665 83.4981 154.848 83.2212 154.982C82.9419 155.115 82.6323 155.183 82.2875 155.183C81.9428 155.183 81.608 155.112 81.3211 154.972C81.0368 154.831 80.8103 154.62 80.6467 154.338C80.4806 154.056 80.3975 153.699 80.3975 153.262V150.521C80.3975 150.408 80.3598 150.315 80.2818 150.237C80.2037 150.159 80.1056 150.121 79.9873 150.121C79.8741 150.121 79.7784 150.159 79.7029 150.237C79.6249 150.315 79.5872 150.41 79.5872 150.521V153.262C79.5872 153.838 79.7029 154.325 79.9294 154.728C80.1584 155.128 80.468 155.432 80.8631 155.64C81.2557 155.849 81.7037 155.952 82.202 155.952C82.66 155.952 83.0727 155.852 83.4477 155.651C83.717 155.507 83.9334 155.309 84.1222 155.087V155.477C84.1222 155.603 84.16 155.703 84.2329 155.776C84.3059 155.849 84.4041 155.887 84.5223 155.887C84.6406 155.887 84.7413 155.849 84.8168 155.776C84.8948 155.703 84.9326 155.603 84.9326 155.477V150.521C84.9326 150.403 84.8948 150.305 84.8168 150.232C84.7388 150.159 84.6406 150.121 84.5223 150.121V150.124Z"
                              fill="#232427"
                            />
                            <path
                              d="M90.0412 150.199C89.8651 150.109 89.6159 150.063 89.2913 150.063C88.8836 150.063 88.5136 150.162 88.1789 150.358C87.9021 150.521 87.6781 150.747 87.4868 151.014V150.526C87.4868 150.4 87.4516 150.302 87.3811 150.232C87.3107 150.162 87.2125 150.126 87.0867 150.126C86.9608 150.126 86.8627 150.162 86.7922 150.232C86.7218 150.302 86.6865 150.4 86.6865 150.526V155.492C86.6865 155.618 86.7218 155.716 86.7922 155.786C86.8627 155.857 86.9608 155.892 87.0867 155.892C87.2125 155.892 87.3132 155.857 87.3811 155.786C87.4516 155.716 87.4868 155.618 87.4868 155.492V152.339C87.4868 152.01 87.5774 151.726 87.7561 151.487C87.9348 151.248 88.1789 151.069 88.4834 150.954C88.7905 150.838 89.1403 150.798 89.5329 150.833C89.6537 150.84 89.7594 150.848 89.855 150.853C89.9506 150.861 90.0312 150.845 90.0966 150.81C90.162 150.775 90.2124 150.705 90.2401 150.599C90.2828 150.423 90.2149 150.29 90.0387 150.199H90.0412Z"
                              fill="#232427"
                            />
                            <path
                              d="M95.4421 150.373C95.0495 150.167 94.6015 150.061 94.1032 150.061C93.6452 150.061 93.2299 150.162 92.8575 150.363C92.5907 150.506 92.3743 150.702 92.183 150.921V150.536C92.183 150.411 92.1452 150.31 92.0723 150.234C91.9993 150.159 91.9011 150.124 91.7829 150.124C91.657 150.124 91.5564 150.162 91.4809 150.234C91.4053 150.307 91.3701 150.408 91.3701 150.536V155.49C91.3701 155.61 91.4079 155.706 91.4809 155.779C91.5538 155.852 91.6545 155.889 91.7829 155.889C91.9037 155.889 91.9993 155.852 92.0723 155.779C92.1452 155.706 92.183 155.608 92.183 155.49V152.369C92.183 152.075 92.2635 151.811 92.4246 151.577C92.5857 151.346 92.8071 151.162 93.084 151.029C93.3608 150.896 93.6729 150.828 94.0177 150.828C94.3624 150.828 94.6971 150.898 94.984 151.039C95.2684 151.18 95.4949 151.391 95.6585 151.67C95.8246 151.952 95.9052 152.309 95.9052 152.746V155.487C95.9052 155.6 95.9429 155.696 96.0209 155.771C96.0989 155.849 96.1971 155.887 96.3154 155.887C96.4286 155.887 96.5243 155.849 96.5998 155.771C96.6753 155.693 96.7155 155.6 96.7155 155.487V152.746C96.7155 152.171 96.5998 151.68 96.3733 151.281C96.1442 150.881 95.8322 150.576 95.4396 150.368L95.4421 150.373Z"
                              fill="#232427"
                            />
                            <path
                              d="M98.945 147.878C98.7915 147.878 98.6556 147.929 98.5399 148.032C98.4241 148.135 98.3662 148.274 98.3662 148.45C98.3662 148.611 98.4216 148.749 98.5348 148.86C98.6481 148.973 98.7815 149.029 98.935 149.029C99.0885 149.029 99.2345 148.973 99.3477 148.86C99.461 148.747 99.5163 148.611 99.5163 148.45C99.5163 148.274 99.4585 148.135 99.3427 148.032C99.2269 147.931 99.096 147.878 98.9476 147.878H98.945Z"
                              fill="#232427"
                            />
                            <path
                              d="M98.9452 150.124C98.8194 150.124 98.7187 150.161 98.6432 150.234C98.5677 150.307 98.5325 150.408 98.5325 150.536V155.48C98.5325 155.605 98.5702 155.706 98.6432 155.779C98.7162 155.852 98.8168 155.889 98.9452 155.889C99.066 155.889 99.1616 155.852 99.2346 155.779C99.3076 155.706 99.3454 155.605 99.3454 155.48V150.536C99.3454 150.41 99.3076 150.31 99.2346 150.234C99.1616 150.159 99.0635 150.124 98.9452 150.124Z"
                              fill="#232427"
                            />
                            <path
                              d="M103.808 155.077H103.523C103.193 155.077 102.922 154.964 102.71 154.735C102.499 154.506 102.393 154.215 102.393 153.855V151.042H103.586C103.692 151.042 103.78 151.009 103.85 150.941C103.921 150.876 103.956 150.793 103.956 150.695C103.956 150.589 103.921 150.503 103.85 150.436C103.78 150.37 103.692 150.335 103.586 150.335H102.393V148.701C102.393 148.58 102.355 148.482 102.277 148.406C102.199 148.331 102.101 148.291 101.983 148.291C101.865 148.291 101.767 148.329 101.694 148.406C101.621 148.484 101.583 148.582 101.583 148.701V150.335H100.898C100.793 150.335 100.704 150.368 100.634 150.436C100.564 150.503 100.528 150.589 100.528 150.695C100.528 150.793 100.564 150.876 100.634 150.941C100.704 151.009 100.793 151.042 100.898 151.042H101.583V153.855C101.583 154.247 101.668 154.599 101.837 154.904C102.006 155.21 102.237 155.449 102.529 155.625C102.821 155.801 103.153 155.889 103.526 155.889H103.747C103.873 155.889 103.979 155.852 104.064 155.779C104.147 155.706 104.19 155.608 104.19 155.49C104.19 155.371 104.155 155.271 104.084 155.195C104.014 155.117 103.923 155.08 103.81 155.08L103.808 155.077Z"
                              fill="#232427"
                            />
                            <path
                              d="M110.192 150.124C110.071 150.124 109.976 150.162 109.903 150.234C109.83 150.307 109.792 150.405 109.792 150.524V153.644C109.792 153.938 109.712 154.202 109.55 154.434C109.389 154.665 109.168 154.848 108.891 154.982C108.612 155.115 108.302 155.183 107.957 155.183C107.613 155.183 107.278 155.112 106.991 154.972C106.707 154.831 106.48 154.62 106.317 154.338C106.15 154.056 106.07 153.699 106.07 153.262V150.521C106.07 150.408 106.032 150.315 105.954 150.237C105.876 150.159 105.778 150.121 105.66 150.121C105.546 150.121 105.451 150.159 105.375 150.237C105.3 150.315 105.26 150.41 105.26 150.521V153.262C105.26 153.838 105.373 154.325 105.602 154.728C105.831 155.128 106.14 155.432 106.535 155.64C106.928 155.849 107.376 155.952 107.874 155.952C108.332 155.952 108.748 155.852 109.12 155.651C109.389 155.507 109.606 155.309 109.795 155.087V155.477C109.795 155.603 109.832 155.703 109.905 155.776C109.978 155.849 110.076 155.887 110.195 155.887C110.313 155.887 110.414 155.849 110.489 155.776C110.567 155.703 110.605 155.603 110.605 155.477V150.521C110.605 150.403 110.567 150.305 110.489 150.232C110.411 150.159 110.313 150.121 110.195 150.121L110.192 150.124Z"
                              fill="#232427"
                            />
                            <path
                              d="M115.709 150.199C115.533 150.109 115.283 150.063 114.959 150.063C114.551 150.063 114.181 150.162 113.846 150.358C113.57 150.521 113.346 150.747 113.154 151.014V150.526C113.154 150.4 113.119 150.302 113.049 150.232C112.978 150.162 112.88 150.126 112.754 150.126C112.628 150.126 112.53 150.162 112.46 150.232C112.389 150.302 112.354 150.4 112.354 150.526V155.492C112.354 155.618 112.389 155.716 112.46 155.786C112.53 155.857 112.628 155.892 112.754 155.892C112.88 155.892 112.978 155.857 113.049 155.786C113.119 155.716 113.154 155.618 113.154 155.492V152.339C113.154 152.01 113.245 151.726 113.424 151.487C113.602 151.248 113.846 151.069 114.151 150.954C114.458 150.838 114.808 150.798 115.2 150.833C115.321 150.84 115.427 150.848 115.522 150.853C115.618 150.861 115.699 150.845 115.764 150.81C115.83 150.775 115.877 150.705 115.905 150.599C115.948 150.423 115.88 150.29 115.704 150.199H115.709Z"
                              fill="#232427"
                            />
                            <path
                              d="M120.473 150.436C120.075 150.194 119.61 150.071 119.074 150.071C118.538 150.071 118.054 150.197 117.639 150.451C117.224 150.705 116.899 151.049 116.663 151.489C116.426 151.929 116.31 152.437 116.31 153.013C116.31 153.589 116.436 154.089 116.685 154.532C116.934 154.974 117.279 155.321 117.72 155.57C118.16 155.819 118.663 155.945 119.235 155.945C119.564 155.945 119.909 155.879 120.269 155.749C120.626 155.618 120.923 155.454 121.155 155.258C121.24 155.188 121.281 155.105 121.276 155.004C121.273 154.906 121.225 154.816 121.135 154.73C121.064 154.675 120.979 154.647 120.881 154.652C120.782 154.655 120.694 154.69 120.616 154.753C120.463 154.886 120.256 154.997 120 155.085C119.743 155.173 119.489 155.215 119.235 155.215C118.812 155.215 118.439 155.12 118.117 154.931C117.795 154.743 117.538 154.481 117.352 154.152C117.206 153.89 117.118 153.599 117.088 153.277H121.346C121.459 153.277 121.55 153.244 121.62 153.176C121.691 153.111 121.726 153.02 121.726 152.907C121.726 152.359 121.618 151.871 121.399 151.441C121.18 151.014 120.873 150.677 120.475 150.436H120.473ZM117.113 152.603C117.151 152.341 117.209 152.09 117.319 151.871C117.486 151.537 117.72 151.275 118.022 151.087C118.324 150.898 118.676 150.803 119.076 150.803C119.476 150.803 119.808 150.893 120.095 151.077C120.382 151.26 120.599 151.512 120.755 151.836C120.865 152.067 120.921 152.329 120.949 152.605H117.116L117.113 152.603Z"
                              fill="#232427"
                            />
                          </svg>
                          <p className="modal-info-text">
                            {t("Individual_product_form_text")}
                          </p>
                          <div className="modal-info-tel">
                            <span className="modal-info-text-secondary">
                              {t("Individual_product_form_call_us")}
                            </span>
                            <a
                              className="modal-info-tel-num"
                              href="tel:+380677108100"
                            >
                              +38 &#40;067&#41; 710 81 00
                            </a>
                          </div>
                        </div>
                        <div className="modal-form">
                          <button
                            onClick={() => {
                              setIsModalOpen(!isModalOpen);
                            }}
                            type="button"
                            className="modal-close"
                          >
                            <svg
                              className="modal-close-svg"
                              width="24"
                              height="24"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M18.6067 6.20659C18.8312 5.98204 18.8312 5.61797 18.6067 5.39342C18.3821 5.16887 18.0181 5.16887 17.7935 5.39342L12.0001 11.1868L6.20668 5.39342C5.98213 5.16887 5.61806 5.16887 5.39351 5.39342C5.16896 5.61797 5.16896 5.98204 5.39351 6.20659L11.1869 12L5.39351 17.7934C5.16896 18.018 5.16896 18.382 5.39351 18.6066C5.61806 18.8311 5.98213 18.8311 6.20668 18.6066L12.0001 12.8132L17.7935 18.6066C18.0181 18.8311 18.3821 18.8311 18.6067 18.6066C18.8312 18.382 18.8312 18.018 18.6067 17.7934L12.8133 12L18.6067 6.20659Z"
                                fill="#232427"
                              />
                            </svg>
                          </button>
                          <p className="modal-form-title">
                            {t("Individual_product_form_title")}
                          </p>
                          <form
                            action=""
                            className="modal-form-form"
                            onSubmit={handleFormSubmit}
                          >
                            <label className="modal-form-label" htmlFor="">
                              {t("Form_name")}
                            </label>
                            <input
                              className="modal-form-input"
                              placeholder={t("Form_name_placeholder")}
                              type="text"
                              name="user_name"
                              value={formData.user_name}
                              onChange={(e) =>
                                setFormData({
                                  ...formData,
                                  user_name: e.target.value,
                                })
                              }
                              required
                            />
                            <label className="modal-form-label" htmlFor="">
                              {t("Form_tel")}
                            </label>
                            <input
                              className="modal-form-input"
                              placeholder={t("Form_tel_placeholder")}
                              type="tel"
                              name="user_phone"
                              value={formData.user_phone}
                              onChange={(e) =>
                                setFormData({
                                  ...formData,
                                  user_phone: e.target.value,
                                })
                              }
                              required
                            />
                            <label className="modal-form-label" htmlFor="">
                              {t("Form_city")}
                            </label>
                            <input
                              className="modal-form-input modal-form-input-last"
                              placeholder={t("Form_city_placeholder")}
                              type="text"
                              name="user_city"
                              value={formData.user_city}
                              onChange={(e) =>
                                setFormData({
                                  ...formData,
                                  user_city: e.target.value,
                                })
                              }
                              required
                            />
                            <button
                              className="modal-form-btn-sbmt"
                              type="submit"
                              disabled={loadingSubmit}
                            >
                              {loadingSubmit ? (
                                <ClipLoader color="#232427" size={30} />
                              ) : (
                                t("Form_btn_submit")
                              )}
                            </button>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </>
  );
};

export default ProductId;
